#ifndef EX_CT_STRLEN_H
#define EX_CT_STRLEN_H


#include "ex/ct/charset"
#include "ex/ct/meta_str"


namespace ex
{
namespace ct
{

    template <typename CharType, size_t N>
    constexpr size_t strlen(const CharType (&str)[N], size_t idx = N)
    {
        return idx == 0                                    ? 0 :
               str[idx-1] == ct::charset::zero<CharType>() ? strlen(str, idx - 1) : idx;
    }


    template <typename CharType, size_t... indexes>
    constexpr size_t strlen(meta_str_type<CharType, indexes...> str)
    {
        return strlen(str.c_str);
    }

}
}

#endif
